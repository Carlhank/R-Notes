##數據可視化套件 — ggplot2
###➢ 前言
###➢ 圖形語法概述
統計圖形：
<div align = 'center'>Wilkinson(2005) 語法概念</div>

註：
  * 幾何對象(geometric object, 縮寫為geom)，包含：point, line, bar…
  * 圖形屬性(aesthetic attributes, 縮寫為aes)，包含：color, shape, size…

###➢ 圖形部件概述：
   * 映射(mapping)：將數據對應至相關圖形屬性。
   * 幾何對象(geom)：圖形元素，包含：point, line, bar…。
   * 圖形屬性(aes)：包含：colour, shape, size…
   * 統計變換(stat)：對數據進行彙整，如：分組計數、線性模型等。
   * 尺度(scale)：將數據取值映射至圖形空間，如：利用不同的顏色代表不同的數據值。
                  (常利用繪製座標軸的方式使讀者能讀取原始的數據值)
   * 座標系(coord)：描述圖形如何映射於平面上(同時描繪出座標及網格)。
   * 分面(facet)：將數據分割為多個子集，並將這些子集繪於同一張圖上

  ※註：ggplot2 只能繪製出**_靜態圖形_**

###➢ 安裝ggplot2套件
```r
install.packages("ggplot2")
```

###➢ qplot 快速繪圖
#### 簡介
qplot：為quick plot的縮寫，目的為讓使用者快速的繪製出複雜的圖形，qplot的使用方式類似於R中的基本繪圖函數plot，
       我們可以利用?qplot查詢相關參數的描述。

#### 例：鑽石數據集繪圖
在ggplot2中提供了一個diamonds的數據集，我們將利用這個數據集提供一個qplot的繪圖範例。
* diamonds 資料集檢視

```r
qplot(carat, price, data = diamonds)
```

| carat|       cut|color |clarity | depth| table| price|    x|    y|    z|
|-----:|:---------|:-----|:-------|-----:|-----:|-----:|----:|----:|----:|
|  0.23|Ideal     |E     |SI2     |  61.5|    55|   326| 3.95| 3.98| 2.43|
|  0.21|Premium   |E     |SI1     |  59.8|    61|   326| 3.89| 3.84| 2.31|
|  0.23|Good      |E     |VS1     |  56.9|    65|   327| 4.05| 4.07| 2.31|
|  0.29|Premium   |I     |VS2     |  62.4|    58|   334| 4.20| 4.23| 2.63|
|  0.31|Good      |J     |SI2     |  63.3|    58|   335| 4.34| 4.35| 2.75|
|  0.24|Very Good |J     |VVS2    |  62.8|    57|   336| 3.94| 3.96| 2.48|

變數意義：

**鑽石質量4C**

1. carat	克拉重量
2.	cut	切工
3.	color	色澤
4.	clarity	淨度

```r
str(diamonds)			## 檢視變數資料型態
```

```
'data.frame':	53940 obs. of  10 variables:
 $ carat  : num  0.23 0.21 0.23 0.29 0.31 0.24 0.24 0.26 0.22 0.23 ...
 $ cut    : Ord.factor w/ 5 levels "Fair"<"Good"<..: 5 4 2 4 2 3 3 3 1 3 ...
 $ color  : Ord.factor w/ 7 levels "D"<"E"<"F"<"G"<..: 2 2 2 6 7 7 6 5 2 5 ...
 $ clarity: Ord.factor w/ 8 levels "I1"<"SI2"<"SI1"<..: 2 3 5 4 2 6 7 3 4 5 ...
 $ depth  : num  61.5 59.8 56.9 62.4 63.3 62.8 62.3 61.9 65.1 59.4 ...
 $ table  : num  55 61 65 58 58 57 57 55 61 61 ...
 $ price  : int  326 326 327 334 335 336 336 337 337 338 ...
 $ x      : num  3.95 3.89 4.05 4.2 4.34 3.94 3.95 4.07 3.87 4 ...
 $ y      : num  3.98 3.84 4.07 4.23 4.35 3.96 3.98 4.11 3.78 4.05 ...
 $ z      : num  2.43 2.31 2.31 2.63 2.75 2.48 2.47 2.53 2.49 2.39 ...
```


現在我們利用抽樣的方式選取100筆來自這個資料集的樣本，稱為dsmall：
```r
set.seed(1414)      ##設置亂數點，使這組樣本具有再生性
dsmall <- diamonds[sample(nrow(diamonds), 100), ]
```
|原始列| carat|       cut|color |clarity | depth| table| price|    x|    y|    z|
|:-----|-----:|:---------|:-----|:-------|-----:|-----:|-----:|----:|----:|----:|
|12221 |  1.00|Premium   |F     |SI1     |  60.3|  58.0|  5197| 6.43| 6.47| 3.89|
|18720 |  0.30|Very Good |G     |VS1     |  60.3|  57.0|   620| 4.33| 4.35| 2.62|
|25096 |  1.72|Fair      |F     |SI1     |  64.8|  58.0| 13622| 7.50| 7.46| 4.85|
|9067  |  1.02|Good      |H     |SI2     |  60.3|  63.0|  4517| 6.45| 6.49| 3.90|
|47744 |  0.59|Ideal     |G     |SI1     |  61.3|  56.0|  1891| 5.41| 5.43| 3.32|
|14262 |  1.24|Premium   |E     |SI1     |  58.5|  60.0|  5775| 7.08| 7.01| 4.11|
